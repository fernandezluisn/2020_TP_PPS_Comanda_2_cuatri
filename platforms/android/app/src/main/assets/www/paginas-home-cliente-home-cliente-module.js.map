{"version":3,"sources":["webpack:///./src/app/interfaces/mesa-cliente.ts","webpack:///./src/app/paginas/home-cliente/home-cliente.module.ts","webpack:///./src/app/paginas/home-cliente/home-cliente.page.html","webpack:///./src/app/paginas/home-cliente/home-cliente.page.scss","webpack:///./src/app/paginas/home-cliente/home-cliente.page.ts"],"names":[],"mappings":"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","file":"paginas-home-cliente-home-cliente-module.js","sourcesContent":["import { stringify } from 'querystring';\r\n\r\nexport class MesaCliente {\r\n    id?: string;\r\n    cerrada: boolean;\r\n    idCliente: string;\r\n    idMesa: string;\r\n    idMozo: string;\r\n    juegoBebida: number;\r\n    juegoDescuento: number;\r\n    juegoPostre: number;\r\n    propina: number;\r\n    qrMesa: string;\r\n\r\n    constructor( idMesa:string, idCliente:string, qrMesa: string){\r\n        this.cerrada=false;\r\n        this.idCliente=idCliente;\r\n        this.idMesa=idMesa;\r\n        this.qrMesa = qrMesa;\r\n       // this.idMozo=idMozo;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomeClientePage } from './home-cliente.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeClientePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HomeClientePage]\n})\nexport class HomeClientePageModule {}\n","module.exports = \"\\r\\n<ion-header>\\r\\n\\r\\n\\t<div *ngIf=\\\"cliente.estado=='desconectado' || cliente.estado == 'EnListaDeEspera' || cliente.estado == 'aceptado'\\\"  class=\\\"login-header  ion-padding\\\">\\r\\n\\r\\n    <img class=\\\"logo-img\\\" src=\\\"assets/img/logo.png\\\">\\r\\n\\r\\n  </div>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content class=\\\"secondaryBackground ion-padding\\\">\\r\\n  <div *ngIf=\\\"cliente.estado=='desconectado'\\\" style=\\\"height: 100%; display:flex; flex-direction:column;\\\">\\r\\n    <div class=\\\"titulo\\\">\\r\\n      <h1>Bienvenido</h1>\\r\\n      <h3></h3>\\r\\n      <p>Escanee el codigo QR para Ingresar a la lista de espera..</p>\\r\\n    </div>\\r\\n    <div style=\\\"display: flex;justify-content: center;\\\">\\r\\n      <ion-button class=\\\"boton\\\" (click)=\\\"scanearEspera()\\\">\\r\\n        <ion-icon name=\\\"qr-code\\\" class=\\\"qrCode\\\"></ion-icon>        &nbsp; Escanear codigo QR         \\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n    <div *ngIf=\\\"cliente.estado == 'EnListaDeEspera'\\\">\\r\\n      <ion-col >\\r\\n        <ion-row style=\\\"justify-content:center; margin-top:35px\\\" >\\r\\n          <p class=\\\"spinnerInterceptor latido\\\">Ya se encuentra en la lista de espera, podra ingresar al ser aprobado. </p>\\r\\n        </ion-row>\\r\\n        <ion-row style=\\\"justify-content: center; margin-top:125px;\\\">\\r\\n          <ion-spinner name=\\\"circles\\\" class=\\\"ion-spinner-large\\\" color=\\\"primary\\\"></ion-spinner>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </div>\\r\\n\\r\\n \\r\\n      <div *ngIf=\\\"cliente.estado=='aceptado'\\\" style=\\\"height: 100%; display:flex; flex-direction:column;\\\">\\r\\n        <div class=\\\"titulo\\\">\\r\\n          <h1>Bienvenido</h1>\\r\\n          <h3></h3>\\r\\n          <p>Escanee el codigo QR para solicitar  la mesa</p>\\r\\n        </div>\\r\\n        <div style=\\\"display: flex;justify-content: center;\\\">\\r\\n          <ion-button class=\\\"boton\\\" (click)=\\\"scanearMesa()\\\">\\r\\n            <ion-icon name=\\\"qr-code\\\" class=\\\"qrCode\\\"></ion-icon>        &nbsp; Escanear codigo QR         \\r\\n          </ion-button>\\r\\n        </div>\\r\\n      </div>\\r\\n  \\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"#columnCenter {\\n  width: 50%;\\n  margin: 0 auto; }\\n\\n.logo-img {\\n  display: left;\\n  margin: 0 auto;\\n  text-align: left;\\n  width: 120px;\\n  height: 100px; }\\n\\n.login-header {\\n  background: var(--themecolor);\\n  position: relative;\\n  background-color: #A599B5; }\\n\\n.titulo {\\n  text-align: center;\\n  color: black; }\\n\\n.boton {\\n  margin-top: 30px;\\n  width: 90%;\\n  height: 200px;\\n  color: white;\\n  font-size: 120%;\\n  --box-shadow: 0px 0px 51px -3px rgba(0,0,0,1); }\\n\\nion-icon.buttonIcon {\\n  color: white;\\n  font-size: 110%;\\n  line-height: 2; }\\n\\n.textoEsperando {\\n  font-size: 32px;\\n  margin-top: 38px;\\n  margin-left: 35px;\\n  font-weight: bolder;\\n  color: #A599B5; }\\n\\nion-spinner {\\n  -webkit-transform: scale(6);\\n          transform: scale(6); }\\n\\n.botonLimpiar {\\n  width: 50px;\\n  height: 50px;\\n  color: white;\\n  --box-shadow: 0px 0px 51px -3px rgba(0,0,0,1); }\\n\\n.divLimpiar {\\n  display: flex;\\n  justify-content: right;\\n  margin-bottom: 2px;\\n  margin-top: 100px; }\\n\\nion-ripple-effect {\\n  background-color: white;\\n  opacity: 30%; }\\n\\n.esperando {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 200px; }\\n\\n.heartBeat {\\n  -webkit-animation-name: heartBeat;\\n  animation-name: heartBeat;\\n  -webkit-animation-duration: 1.3s;\\n  animation-duration: 1.3s;\\n  -webkit-animation-timing-function: ease-in-out;\\n  animation-timing-function: ease-in-out;\\n  -webkit-animation-iteration-count: infinite;\\n          animation-iteration-count: infinite; }\\n\\n.spinnerInterceptor {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  color: #A599B5;\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 24px; }\\n\\n.spinnerInterceptor img {\\n    display: block;\\n    height: 15%; }\\n\\n#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%); }\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px; }\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #A599B5;\\n  margin: 0; }\\n\\n#container a {\\n  text-decoration: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hcy9ob21lLWNsaWVudGUvQzpcXFVzZXJzXFxyYXVsLnphbW9yYVxcQW5uZ3VsYXJcXDIwMjBfVFBfUFBTL3NyY1xcYXBwXFxwYWdpbmFzXFxob21lLWNsaWVudGVcXGhvbWUtY2xpZW50ZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFTO0VBQ1QsY0FDRCxFQUFBOztBQUVBO0VBQ0ksYUFBWTtFQUNaLGNBQWE7RUFDYixnQkFBZTtFQUNmLFlBQVc7RUFDWCxhQUFZLEVBQUE7O0FBR2hCO0VBQ0ksNkJBQTZCO0VBQzdCLGtCQUFrQjtFQUNsQix5QkFBeUIsRUFBQTs7QUFLOUI7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWSxFQUFBOztBQU1kO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixhQUFhO0VBQ2IsWUFBVztFQUNYLGVBQWU7RUFFZiw2Q0FBYSxFQUFBOztBQUtmO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixjQUFjLEVBQUE7O0FBR2hCO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGNBQWMsRUFBQTs7QUFHaEI7RUFDRSwyQkFBbUI7VUFBbkIsbUJBQW1CLEVBQUE7O0FBR3JCO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixZQUFXO0VBWVgsNkNBQWEsRUFBQTs7QUFJZjtFQUNFLGFBQWE7RUFBQyxzQkFBc0I7RUFDcEMsa0JBQWtCO0VBQ2xCLGlCQUFpQixFQUFBOztBQUluQjtFQUNFLHVCQUFzQztFQUN0QyxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGlCQUFpQixFQUFBOztBQUduQjtFQUNFLGlDQUFpQztFQUNqQyx5QkFBeUI7RUFDekIsZ0NBQWdDO0VBQ2hDLHdCQUF3QjtFQUN4Qiw4Q0FBOEM7RUFDOUMsc0NBQXNDO0VBQ3RDLDJDQUFtQztVQUFuQyxtQ0FBbUMsRUFBQTs7QUFHckM7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUV2QixXQUFXO0VBQ1gsWUFBWTtFQUtWLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGVBQWUsRUFBQTs7QUFkbkI7SUFRTSxjQUFjO0lBQ2QsV0FBVyxFQUFBOztBQVVqQjtFQUNFLGtCQUFrQjtFQUVsQixrQkFBa0I7RUFDbEIsT0FBTztFQUNQLFFBQVE7RUFDUixRQUFRO0VBQ1IsbUNBQTJCO1VBQTNCLDJCQUEyQixFQUFBOztBQUc3QjtFQUNFLGVBQWU7RUFDZixpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0VBRWpCLGNBQWM7RUFFZCxTQUFTLEVBQUE7O0FBR1g7RUFDRSxxQkFBcUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2luYXMvaG9tZS1jbGllbnRlL2hvbWUtY2xpZW50ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29sdW1uQ2VudGVye1xyXG4gICAgd2lkdGg6NTAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG9cclxuICAgfVxyXG4gICBcclxuICAgLmxvZ28taW1ne1xyXG4gICAgICAgZGlzcGxheTpsZWZ0O1xyXG4gICAgICAgbWFyZ2luOjAgYXV0bztcclxuICAgICAgIHRleHQtYWxpZ246bGVmdDtcclxuICAgICAgIHdpZHRoOjEyMHB4O1xyXG4gICAgICAgaGVpZ2h0OjEwMHB4O1xyXG4gICB9XHJcbiAgIFxyXG4gICAubG9naW4taGVhZGVye1xyXG4gICAgICAgYmFja2dyb3VuZDogdmFyKC0tdGhlbWVjb2xvcik7XHJcbiAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yIDojQTU5OUI1O1xyXG4gICB9XHJcbiAgXHJcbiAgXHJcbiAgIFxyXG4gIC50aXR1bG97XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAvL2ZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgLy9mb250LXNpemU6IDUwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIC5ib3RvbntcclxuICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgaGVpZ2h0OiAyMDBweDtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxMjAlO1xyXG4gICAgLy8tLWJhY2tncm91bmQ6I2I3MWMxYzsgICAgIFxyXG4gICAgLS1ib3gtc2hhZG93OiAwcHggMHB4IDUxcHggLTNweCByZ2JhKDAsMCwwLDEpO1xyXG4gIFxyXG4gIH1cclxuICBcclxuICBcclxuICBpb24taWNvbi5idXR0b25JY29uIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTEwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAyO1xyXG4gIH1cclxuICBcclxuICAudGV4dG9Fc3BlcmFuZG97XHJcbiAgICBmb250LXNpemU6IDMycHg7IFxyXG4gICAgbWFyZ2luLXRvcDogMzhweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzNXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICAgIGNvbG9yOiAjQTU5OUI1O1xyXG4gIH1cclxuICBcclxuICBpb24tc3Bpbm5lciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDYpO1xyXG5cclxufVxyXG4gIC5ib3RvbkxpbXBpYXJ7XHJcbiAgICB3aWR0aDogNTBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgLy8tLWJhY2tncm91bmQ6I2I3MWMxYzsgICAgIFxyXG4gICAgXHJcbiAgICAvLyAtLWJhY2tncm91bmQ6IHJnYmEoMjYsNzEsMjgsMSk7XHJcbiAgICAvLyAtLWJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGxlZnQsIHJnYmEoMjYsNzEsMjgsMSkgMCUsIHJnYmEoNDYsMTI1LDUwLDEpIDUwJSwgcmdiYSgyNiw3MSwyOCwxKSAxMDAlKTtcclxuICAgIC8vIC0tYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsZWZ0IHRvcCwgcmlnaHQgdG9wLCBjb2xvci1zdG9wKDAlLCByZ2JhKDI2LDcxLDI4LDEpKSwgY29sb3Itc3RvcCg1MCUsIHJnYmEoNDYsMTI1LDUwLDEpKSwgY29sb3Itc3RvcCgxMDAlLCByZ2JhKDI2LDcxLDI4LDEpKSk7XHJcbiAgICAvLyAtLWJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsIHJnYmEoMjYsNzEsMjgsMSkgMCUsIHJnYmEoNDYsMTI1LDUwLDEpIDUwJSwgcmdiYSgyNiw3MSwyOCwxKSAxMDAlKTtcclxuICAgIC8vIC0tYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KGxlZnQsIHJnYmEoMjYsNzEsMjgsMSkgMCUsIHJnYmEoNDYsMTI1LDUwLDEpIDUwJSwgcmdiYSgyNiw3MSwyOCwxKSAxMDAlKTtcclxuICAgIC8vIC0tYmFja2dyb3VuZDogLW1zLWxpbmVhci1ncmFkaWVudChsZWZ0LCByZ2JhKDI2LDcxLDI4LDEpIDAlLCByZ2JhKDQ2LDEyNSw1MCwxKSA1MCUsIHJnYmEoMjYsNzEsMjgsMSkgMTAwJSk7XHJcbiAgICAvLyAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmdiYSgyNiw3MSwyOCwxKSAwJSwgcmdiYSg0NiwxMjUsNTAsMSkgNTAlLCByZ2JhKDI2LDcxLDI4LDEpIDEwMCUpO1xyXG4gICAgLy8gZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoIHN0YXJ0Q29sb3JzdHI9JyMxYTQ3MWMnLCBlbmRDb2xvcnN0cj0nIzFhNDcxYycsIEdyYWRpZW50VHlwZT0xICk7XHJcbiAgXHJcbiAgICAtLWJveC1zaGFkb3c6IDBweCAwcHggNTFweCAtM3B4IHJnYmEoMCwwLDAsMSk7XHJcbiAgXHJcbiAgfVxyXG4gIFxyXG4gIC5kaXZMaW1waWFye1xyXG4gICAgZGlzcGxheTogZmxleDtqdXN0aWZ5LWNvbnRlbnQ6IHJpZ2h0O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMTAwcHg7XHJcbiAgfVxyXG5cclxuICBcclxuICBpb24tcmlwcGxlLWVmZmVjdHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMDI0LCAxMDI0LDEwMjQpO1xyXG4gICAgb3BhY2l0eTogMzAlO1xyXG4gIH1cclxuICBcclxuICAuZXNwZXJhbmRve1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMjAwcHg7XHJcbiAgfVxyXG5cclxuICAuaGVhcnRCZWF0IHtcclxuICAgIC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGhlYXJ0QmVhdDtcclxuICAgIGFuaW1hdGlvbi1uYW1lOiBoZWFydEJlYXQ7XHJcbiAgICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMS4zcztcclxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMS4zcztcclxuICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XHJcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xyXG4gIH1cclxuXHJcbiAgLnNwaW5uZXJJbnRlcmNlcHRvciB7ICBcclxuICAgIGRpc3BsYXk6IGZsZXg7IFxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgaW1nIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICBoZWlnaHQ6IDE1JTtcclxuICAgICAgfVxyXG4gICAgICBjb2xvcjogI0E1OTlCNTtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgfVxyXG4gICAgXHJcbiBcclxuICBcclxuICAjY29udGFpbmVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gIH1cclxuICBcclxuICAjY29udGFpbmVyIHN0cm9uZyB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjZweDtcclxuICB9XHJcbiAgXHJcbiAgI2NvbnRhaW5lciBwIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gIFxyXG4gICAgY29sb3I6ICNBNTk5QjU7XHJcbiAgXHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG4gIFxyXG4gICNjb250YWluZXIgYSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgfSJdfQ== */\"","import { MesaCliente } from './../../interfaces/mesa-cliente';\r\nimport { Espera } from './../../interfaces/reserva';\r\nimport { Pedido } from 'src/app/interfaces/pedido';\r\nimport { Component } from '@angular/core';\r\nimport { Platform, AlertController } from '@ionic/angular';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { Mesa } from './../../interfaces/mesa';\r\nimport { Reserva } from 'src/app/interfaces/reserva';\r\nimport { AuthService } from 'src/app/servicios/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { SpinerService } from 'src/app/servicios/spiner.service';\r\nimport { AlertService } from 'src/app/servicios/alert.service';\r\nimport { MesasService } from 'src/app/servicios/mesas.service';\r\nimport { SpinnerService } from 'src/app/servicios/spinner.service';\r\nimport { MesaClienteService } from 'src/app/servicios/mesa-cliente.service';\r\n\r\n@Component({ \r\n  selector: 'app-home-cliente',\r\n  templateUrl: './home-cliente.page.html',\r\n  styleUrls: ['./home-cliente.page.scss'],\r\n})\r\nexport class HomeClientePage {\r\n  public mesas: Mesa[];\r\n  public reservas: Reserva[];\r\n  public listaEspera: Espera[];\r\n  public mesasClientes: MesaCliente[];\r\n  public usuario: any;\r\n  public mesa: Mesa;\r\n  private pedidos = [];\r\n  private estadoActualCliente;\r\n  cliente;\r\n  chat =false;\r\n  constructor(private alert: AlertService, private spinner: SpinnerService, private barcodeScanner: BarcodeScanner, private route: Router,\r\n    private clienteService:AuthService, private mesaService: MesasService, private mesaClienteService: MesaClienteService) {\r\n    this.cliente = JSON.parse(localStorage.getItem('usuario')); \r\n\r\n    this.mesaService.getMesas().subscribe(mesas => { this.mesas = mesas; });\r\n\r\n    //obtengo el cliente usando el uid generado con local storage\r\n    console.log(this.cliente);\r\n    this.clienteService.obtenerCliente(this.cliente.uid).subscribe((resp:any) =>{\r\n      resp.forEach(user => {\r\n        console.log(user.estado);\r\n          this.cliente = user;      \r\n\r\n          //chequeo si cambio el estado del cliente para poder darle un mensaje de aviso.\r\n          if(this.cliente.estado == \"aceptado\" && this.estadoActualCliente == \"EnListaDeEspera\"){\r\n            this.alert.mensaje(\"\",\"Ha sido aceptado! ya puede ingresar al local\");\r\n          }        \r\n          this.estadoActualCliente = user.estado;     \r\n\r\n          console.log(\"aca\");\r\n      });        \r\n    });\r\n\r\n\r\n\r\n\r\n    if(this.cliente.estado == \"ConMesaAsignada\"){\r\n      this.route.navigate(['mesa-cliente'])\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  //Si el usuario se encuentra en estado \"desconectado\" va a poder scanear el codigo de ingreso e ingresar a la lista de espera hasta que sea aceptado y pase al siguiente estado\r\n  public async scanearEspera() {\r\n    if(localStorage.getItem('Sonido') == 'true')\r\n      {\r\n        let audio = new Audio();\r\n        audio.src = '../assets/click.m4a';\r\n        audio.load();\r\n        audio.play();\r\n      }\r\n\r\nthis.spinner.showSpinner();\r\n    this.barcodeScanner.scan().then(resultado => {\r\n      let qrValido = false;\r\n      let mesaOcupada = false;\r\n\r\n       if(resultado.text == \"ListaDeEspera\"){\r\n         qrValido = true;\r\n         this.cliente.estado = \"EnListaDeEspera\"\r\n         this.clienteService.ModificarUsuario(this.cliente);\r\n         this.alert.mensaje('Bienvenido!', 'Usted se encuentra en la lista de espera');\r\n\r\n       }\r\n      if (!qrValido) {\r\n        this.alert.mensaje('Atención!', 'El QR escaneado no es válido');\r\n      }\r\nthis.spinner.hideSpinner();\r\n    });\r\n  }\r\n\r\n\r\n  /*si el usuario ya se encuentra en modo \"aceptado\" luego de la lista de espera va a poder scanear el qr de la mesa y pasar al\r\n  siguiente estado(ConMesaAsignada) donde podra hacer su pedido.\r\n  */\r\n    public async scanearMesa() {\r\n      if(localStorage.getItem('Sonido') == 'true')\r\n        {\r\n          let audio = new Audio();\r\n          audio.src = '../assets/click.m4a';\r\n          audio.load();\r\n          audio.play();\r\n        }\r\n        this.spinner.showSpinner();\r\n      this.barcodeScanner.scan().then(resultado => {\r\n        let qrValido = false;\r\n        let mesaOcupada = false;\r\n         var mesa;\r\n        //verifico que el QR sea de una mesa\r\n         if(resultado.text.includes(\"Mesa\") || resultado.text.includes(\"mesa\")){\r\n    /*Obtengo la mesa mediante su campo QR, que tiene que tener el mismo valor de una mesa generada y verifico que no este ocupada\r\n          Si no esta ocupada, modifico el estado del usuario y y lo redirecciono a la mesa.*/\r\n          this.mesas.forEach(async mesa => {\r\n            if (resultado.text === mesa.qr) {\r\n              qrValido = true;\r\n              if(mesa.estado == \"Ocupada\"){\r\n                this.alert.mensaje('', 'La mesa esta ocupada');\r\n              }\r\n              else{           \r\n                mesa.estado = \"Ocupada\";    \r\n                this.mesaService.actualizarMesa(mesa);\r\n                this.cliente.estado = \"ConMesaAsignada\"\r\n                this.clienteService.ModificarUsuario(this.cliente);       \r\n                this.alert.mensaje('', 'Ya puede sentarse en la mesa seleccionada!!');\r\n                this.mesaClienteService.createMesaCliente(new MesaCliente(mesa.id,this.cliente.id,mesa.qr));\r\n                this.route.navigate(['mesa-cliente']);      \r\n                }           \r\n\r\n            }\r\n          })\r\n          \r\n      \r\n   /*\r\n          this.mesaService.obtenerMesaQr(resultado.text).subscribe((resp:any) =>{\r\n            resp.forEach(mesa => {\r\n              if(mesa.estado == \"Ocupada\"){\r\n                this.alert.mensaje('', 'La mesa esta ocupada');\r\n              }\r\n              else{\r\n                mesa.estado = \"Ocupada\";    \r\n                this.mesaService.actualizarMesa(mesa);\r\n                this.cliente.estado = \"ConMesaAsignada\"\r\n                this.clienteService.ModificarUsuario(this.cliente);       \r\n                this.alert.mensaje('', 'Ya puede sentarse en la mesa seleccionada!!');\r\n                this.route.navigate(['mesa-cliente']);      \r\n                }           \r\n           });      \r\n                     });\r\n  */\r\n         }\r\n\r\n          else {\r\n            this.alert.mensaje('QR Erroneo', 'El QR no pertenece a una mesa. Por favor, escanee el código de la mesa');\r\n          }\r\n         \r\n        if (!qrValido) {\r\n          this.alert.mensaje('Atención!', 'El QR escaneado no es válido');\r\n        }\r\n        this.spinner.hideSpinner();\r\n  \r\n      });\r\n    }\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":""}