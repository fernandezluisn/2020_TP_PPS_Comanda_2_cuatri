{"version":3,"sources":["webpack:///./src/app/interfaces/mesa.ts","webpack:///./src/app/paginas/admin-comercio/admin-comercio.module.ts","webpack:///./src/app/paginas/admin-comercio/admin-comercio.page.html","webpack:///./src/app/paginas/admin-comercio/admin-comercio.page.scss","webpack:///./src/app/paginas/admin-comercio/admin-comercio.page.ts"],"names":[],"mappings":"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","file":"paginas-admin-comercio-admin-comercio-module.js","sourcesContent":["export class Mesa {\r\n    id?: string;\r\n    numero: number;\r\n    espacios: number;\r\n    tipo: string;\r\n    qr: string;\r\n    foto: string;\r\n    estado: string;\r\n    uidField: string;\r\n    constructor(numero:number, espacios:number, tipo:string, foto:string, estado:string){\r\n        this.numero=numero;        \r\n        this.espacios=espacios;\r\n        this.tipo=tipo;\r\n        this.foto=foto;\r\n        this.estado=estado;\r\n    }\r\n}\r\n\r\n\r\nexport enum MesasEstados{\r\n    \"Vacia\",\r\n    \"Ocupada\",\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AdminComercioPage } from './admin-comercio.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AdminComercioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AdminComercioPage]\r\n})\r\nexport class AdminComercioPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Alta de mesas</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-button (click)=\\\"cambiar()\\\">Cambiar formulario</ion-button>\\r\\n\\r\\n  <ng-container *ngIf=\\\"alta\\\">\\r\\n\\r\\n   <ion-item>\\r\\n    <ion-label position=\\\"floating\\\">Tipo de mesa</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"this.tipoMesa\\\">\\r\\n      <ion-select-option>Vip</ion-select-option>\\r\\n      <ion-select-option>Discapacitados</ion-select-option>\\r\\n      <ion-select-option>Estandar</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>  \\r\\n  \\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Número de mesa</ion-label>\\r\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"this.numMesa\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Cantidad de comensales</ion-label>\\r\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"cantidad\\\"></ion-input>\\r\\n    </ion-item>  \\r\\n\\r\\n    <ion-button  color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"escanear()\\\">Escanear QR</ion-button>\\r\\n\\r\\n    <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"sacarFoto()\\\">Toma una foto</ion-button>\\r\\n    <h2 *ngIf=\\\"image\\\">Esta es la imagen que quiere subir?</h2>\\r\\n    <img style=\\\"border: 0.2rem black solid; height: 25rem; margin-left: 3rem;\\\" [src]=\\\"image\\\" *ngIf=\\\"image\\\" />\\r\\n    <ion-button (click)=\\\"subir()\\\">Subir Mesa</ion-button>\\r\\n    \\r\\n  </ng-container>\\r\\n\\r\\n\\r\\n  <ng-container *ngIf=\\\"!alta\\\">\\r\\n    \\r\\n\\r\\n    <ion-item style=\\\"margin-bottom:3rem;\\\">\\r\\n      <ion-label>Mesa a modificar y/o eliminar</ion-label>\\r\\n      <ion-select  [(ngModel)]=\\\"mesaElegida\\\" >\\r\\n        <ion-select-option [value]=\\\"item\\\" *ngFor=\\\"let item of listaMesas\\\">{{item.numero}}</ion-select-option>        \\r\\n      </ion-select>\\r\\n    </ion-item >\\r\\n\\r\\n    <ng-container *ngIf=\\\"mesaElegida\\\" style=\\\"margin-top: 3rem;\\\">\\r\\n      <h2 style=\\\"margin-left: 2REM;\\\">MESA N°: {{mesaElegida.numero}}</h2>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Tipo de mesa</ion-label>\\r\\n        <ion-select [(ngModel)]=\\\"mesaElegida.tipo\\\">\\r\\n          <ion-select-option>Vip</ion-select-option>\\r\\n          <ion-select-option>Discapacitados</ion-select-option>\\r\\n          <ion-select-option>Estandar</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>  \\r\\n      \\r\\n       \\r\\n    \\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Cantidad de comensales</ion-label>\\r\\n          <ion-input type=\\\"number\\\" [(ngModel)]=\\\"mesaElegida.espacios\\\"></ion-input>\\r\\n        </ion-item> \\r\\n\\r\\n      \\r\\n\\r\\n      <ion-button  color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"escanear()\\\">Ingresar nuevo QR</ion-button>\\r\\n      <ion-item *ngIf=\\\"mesaElegida.foto\\\">\\r\\n        <ion-img [src]=\\\"mesaElegida.foto\\\"></ion-img>\\r\\n      </ion-item>\\r\\n      <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"sacarFoto()\\\">Ingresar otra foto</ion-button><br><br><br>\\r\\n      <ion-button (click)=\\\"modificar()\\\">Actualizar Mesa</ion-button>\\r\\n      <ion-button (click)=\\\"eliminar()\\\">Eliminar Mesa</ion-button>\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n  \\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-card {\\n  text-align: center;\\n  --background: rgb(230, 230, 230);\\n  display: block;\\n  border-radius: 0;\\n  margin: 0;\\n  padding: 0; }\\n\\nion-card ion-icon {\\n  font-size: 80px;\\n  color: #333333; }\\n\\n.card-vertical {\\n  height: 33.33%;\\n  width: 100%;\\n  float: left; }\\n\\n.card-horizontal {\\n  height: 100%;\\n  width: 33.33%;\\n  float: left; }\\n\\nion-ripple-effect {\\n  color: #ef5c5c; }\\n\\n.icon-vertical {\\n  margin-top: 13.5%; }\\n\\n.icon-horizontal {\\n  margin-top: 4%; }\\n\\nh2 {\\n  font-size: 20px;\\n  font-weight: bold;\\n  /*line-height: 0px;*/\\n  padding-top: 0;\\n  margin-top: 0;\\n  color: #181717; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hcy9hZG1pbi1jb21lcmNpby9FOlxcRGVzY2FyZ2FzXFxtYXN0ZXJcXG1hc3Rlci9zcmNcXGFwcFxccGFnaW5hc1xcYWRtaW4tY29tZXJjaW9cXGFkbWluLWNvbWVyY2lvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLGtCQUFrQjtFQUNsQixnQ0FBYTtFQUNiLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsU0FBUztFQUNULFVBQVUsRUFBQTs7QUFHZDtFQUNJLGVBQWU7RUFDZixjQUFzQixFQUFBOztBQUcxQjtFQUNJLGNBQWM7RUFDZCxXQUFXO0VBQ1gsV0FBVyxFQUFBOztBQUdmO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFDYixXQUFXLEVBQUE7O0FBR2Y7RUFDSSxjQUF1QixFQUFBOztBQUczQjtFQUNJLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLG9CQUFBO0VBQ0EsY0FBYztFQUNkLGFBQWE7RUFDYixjQUFzQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnaW5hcy9hZG1pbi1jb21lcmNpby9hZG1pbi1jb21lcmNpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDT05URU5UXHJcblxyXG5pb24tY2FyZCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAtLWJhY2tncm91bmQ6IHJnYigyMzAsIDIzMCwgMjMwKTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbmlvbi1jYXJkIGlvbi1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogODBweDtcclxuICAgIGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7XHJcbn1cclxuXHJcbi5jYXJkLXZlcnRpY2FsIHtcclxuICAgIGhlaWdodDogMzMuMzMlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG5cclxuLmNhcmQtaG9yaXpvbnRhbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMzMuMzMlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbmlvbi1yaXBwbGUtZWZmZWN0IHtcclxuICAgIGNvbG9yOiByZ2IoMjM5LCA5MiwgOTIpO1xyXG59XHJcblxyXG4uaWNvbi12ZXJ0aWNhbCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMy41JTtcclxufVxyXG5cclxuLmljb24taG9yaXpvbnRhbCB7XHJcbiAgICBtYXJnaW4tdG9wOiA0JTtcclxufVxyXG5cclxuaDIge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAvKmxpbmUtaGVpZ2h0OiAwcHg7Ki9cclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICAgIGNvbG9yOiByZ2IoMjQsIDIzLCAyMyk7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Mesa } from 'src/app/interfaces/mesa';\r\nimport { MesasService } from 'src/app/servicios/mesas.service';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { Vibration } from '@ionic-native/vibration/ngx';\r\nimport { ToastService } from 'src/app/servicios/toast.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-comercio',\r\n  templateUrl: './admin-comercio.page.html',\r\n  styleUrls: ['./admin-comercio.page.scss'],\r\n})\r\nexport class AdminComercioPage implements OnInit {\r\n\r\n  tipoMesa:string;\r\n  numMesa:number;\r\n  cantidad:number;\r\n  loading;\r\n  image: string = null;\r\n  url1: string;\r\n  qr:string=\"\";\r\n  repite=false;\r\n  listaMesas:Mesa[];\r\n\r\n  alta=true;\r\n\r\n  mesaElegida=null;\r\n\r\n  constructor(private storage:AngularFireStorage, \r\n    private bda:MesasService,\r\n    private camera: Camera, \r\n    private alertController:AlertController, \r\n    private barcodeScanner: BarcodeScanner,\r\n    private loadingCtrl:LoadingController,\r\n    private vibra:Vibration,\r\n    private toast:ToastService) \r\n    { \r\n    this.cantidad=0;\r\n    this.numMesa=0;\r\n    this.tipoMesa=\"Estandar\";\r\n    this.bda.devolverListadoMesas().subscribe(lista=>{\r\n      this.listaMesas=lista;\r\n      this.listaMesas.sort((a,b) => a.numero - b.numero);\r\n\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  cambiar(){\r\n    if(this.alta)\r\n    this.alta=false;\r\n    else\r\n    this.alta=true;\r\n  }\r\n  \r\n\r\n  escanear(){  \r\n\r\n      \r\n    this.barcodeScanner.scan().then(async barcodeData => {\r\n      if(barcodeData.format==\"QR_CODE\")\r\n      {\r\n       \r\n        this.qr=barcodeData.text;\r\n        \r\n      }else{\r\n        this.alertar(\"El código debe ser QR\");\r\n        this.vibra.vibrate(500);\r\n      }\r\n      \r\n     }).catch(err => {\r\n         this.alertar(\"No se ha podido cargar el código.\");\r\n         this.vibra.vibrate(500);\r\n     });\r\n\r\n     \r\n  }\r\n\r\n  async alertar(mensaje:string){\r\n    const alert= this.alertController.create({\r\n      cssClass: 'danger-alert-btn',\r\n      header: 'Error',      \r\n      message: mensaje,\r\n      buttons: ['OK']\r\n    });\r\n\r\n    (await alert).present();\r\n  }\r\n\r\n  async presentLoading(message: string) {\r\n    this.loading = await this.loadingCtrl.create({\r\n        message,\r\n        spinner: \"crescent\",\r\n        duration: 2000\r\n    });\r\n    return this.loading.present();\r\n\r\n    \r\n  }\r\n\r\n  async sacarFoto(){\r\n    this.presentLoading(\"Cargando imagen\");\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      targetWidth: 1000,\r\n      targetHeight: 1000\r\n    }\r\n\r\n    await this.camera.getPicture(options).then((imageData) => {\r\n      this.image = `data:image/jpeg;base64,${imageData}`;   \r\n        \r\n     }, (err) => {\r\n      this.alertar(err);\r\n     });\r\n  }\r\n\r\n \r\n\r\n  async subir(){\r\n    this.repite=false;\r\n    \r\n    this.listaMesas.forEach(mesa=>{\r\n      if(mesa.numero==this.numMesa)\r\n      this.repite=true\r\n    })\r\n\r\n\r\n    if(this.cantidad!=0 )\r\n    {\r\n      if(!this.repite && this.qr.length>3)\r\n      {\r\n        this.presentLoading(\"Subiendo mesa\");\r\n\r\n        if(this.image){\r\n          try{\r\n            const com=this.numMesa+\"mesa\";\r\n            let img;\r\n            await fetch(this.image)\r\n            .then(res => res.blob().then(r=>{\r\n              img=r\r\n            }))\r\n            \r\n            const file= img;\r\n            const path= com;\r\n            const ref=this.storage.ref(path);    \r\n            const task=this.storage.upload(path, file);     \r\n            await task.snapshotChanges().pipe(finalize(()=>ref.getDownloadURL().subscribe(url=>{\r\n              this.url1=url;\r\n              let f=new Mesa(this.numMesa, this.cantidad, this.tipoMesa, this.url1, \"Vacia\");\r\n              \r\n              f.qr=this.qr;\r\n              \r\n              this.bda.createMesa(f);\r\n            \r\n            } ))).subscribe(); \r\n            \r\n            this.toast.confirmationToast(\"se subió la mesa.\");\r\n            \r\n          }catch(err){\r\n            this.alertar(err);\r\n            \r\n          }    \r\n        }else{\r\n          let f=new Mesa(this.numMesa, this.cantidad, this.tipoMesa, null, \"Vacia\");\r\n              if(this.qr.length>2)\r\n              {\r\n                f.qr=this.qr;\r\n              }\r\n              this.bda.createMesa(f);\r\n              this.toast.confirmationToast(\"se subió la mesa.\");\r\n        }\r\n       \r\n      }else{\r\n        this.alertar(\"Debe elegir un número de mesa que no existe y agregarle un código qr para poder relizar el alta\");\r\n      }\r\n      \r\n    }else{\r\n      this.alertar(\"Debe ingresar una cantidad mayor a 0\");\r\n    }\r\n\r\n    \r\n  }\r\n\r\n\r\n  async eliminar(){\r\n    this.presentLoading(\"Eliminando\");\r\n    try{\r\n      await this.bda.BorrarMesa(this.mesaElegida);\r\n      this.toast.confirmationToast(\"se eliminó la mesa.\");\r\n    }catch(e){\r\n      this.alertar(e);\r\n    }finally{\r\n      this.mesaElegida=null;\r\n    }\r\n    \r\n  }\r\n\r\n  async modificar(){\r\n    let f=this.mesaElegida;\r\n    f.numero=this.mesaElegida.numero;\r\n    f.espacios=this.mesaElegida.espacios;\r\n    f.tipo=this.mesaElegida.tipo;\r\n    if(this.mesaElegida.cantidad!=0)\r\n    {      \r\n        this.presentLoading(\"Subiendo mesa\");\r\n\r\n        if(this.image){\r\n          try{\r\n            const com=this.numMesa+\"mesa\";\r\n            let img;\r\n            await fetch(this.image)\r\n            .then(res => res.blob().then(r=>{\r\n              img=r\r\n            }))\r\n            \r\n            const file= img;\r\n            const path= com;\r\n            const ref=this.storage.ref(path);    \r\n            const task=this.storage.upload(path, file);     \r\n            await task.snapshotChanges().pipe(finalize(()=>ref.getDownloadURL().subscribe(url=>{\r\n              f.foto=url;              \r\n              \r\n              if(this.qr.length>2)\r\n              {\r\n                f.qr=this.qr;\r\n              }\r\n              this.bda.actualizarMesa(f);\r\n            \r\n            } ))).subscribe(); \r\n            \r\n            this.toast.confirmationToast(\"se subió la mesa.\");\r\n            \r\n          }catch(err){\r\n            this.alertar(err);\r\n            \r\n          }    \r\n        }else{\r\n          \r\n              if(this.qr.length>2)\r\n              {\r\n                f.qr=this.qr;\r\n              }\r\n              this.bda.actualizarMesa(f);\r\n              this.toast.confirmationToast(\"se subió la mesa.\");\r\n        }   \r\n      \r\n      \r\n    }else{\r\n      this.alertar(\"Debe ingresar una cantidad mayor a 0\");\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}