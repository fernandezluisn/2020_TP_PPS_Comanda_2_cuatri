{"version":3,"sources":["webpack:///./src/app/interfaces/producto.ts","webpack:///./src/app/paginas/alta-producto/alta-producto.module.ts","webpack:///./src/app/paginas/alta-producto/alta-producto.page.html","webpack:///./src/app/paginas/alta-producto/alta-producto.page.scss","webpack:///./src/app/paginas/alta-producto/alta-producto.page.ts","webpack:///./src/app/servicios/productos.service.ts","webpack:///./src/app/servicios/spinner.service.ts"],"names":[],"mappings":"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","file":"paginas-alta-producto-alta-producto-module.js","sourcesContent":["export class Producto {\r\n    nombre:string;\r\n    descripcion:string;\r\n    tiempo:number;\r\n    precio:number;\r\n    foto_1:any;\r\n    foto_2:any;\r\n    foto_3:any;\r\n    qr:string;\r\n    sector:string;\r\n    id:string;\r\n    tipo:string;\r\n\r\n    constructor(nombre:string, descripcion:string, tiempo:number, precio:number, tipo:string, imagen1:any, imagen2:any, imagen3:any){\r\n        this.nombre=nombre;\r\n        this.descripcion=descripcion;\r\n        this.tiempo=tiempo;\r\n        this.precio=precio;\r\n        this.tipo=tipo;\r\n        this.foto_1=imagen1;\r\n        this.foto_2=imagen2;\r\n        this.foto_3=imagen3;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AltaProductoPage } from './alta-producto.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AltaProductoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AltaProductoPage]\r\n})\r\nexport class AltaProductoPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Productos</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  \\r\\n  <ion-button (click)=\\\"cambiar()\\\">Cambiar formulario</ion-button>\\r\\n\\r\\n\\r\\n  <ng-container *ngIf=\\\"alta\\\">\\r\\n    \\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Nombre del producto</ion-label>\\r\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"nombre\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Descripción del producto</ion-label>\\r\\n      <ion-textarea [(ngModel)]=\\\"descripcion\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n   \\r\\n     <ion-item>\\r\\n       <ion-label position=\\\"floating\\\">Cantidad de minutos de elaboración</ion-label>\\r\\n       <ion-input type=\\\"number\\\" [(ngModel)]=\\\"minutos\\\"></ion-input>\\r\\n     </ion-item>\\r\\n \\r\\n     <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Precio</ion-label>\\r\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"precio\\\" placeholder=\\\"$$$\\\"></ion-input>\\r\\n    </ion-item>\\r\\n \\r\\n     <ion-button  color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"escanear()\\\">Escanear QR</ion-button><br>\\r\\n \\r\\n     <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"foto1()\\\" *ngIf=\\\"!image1\\\">Tomar una foto</ion-button><br><br>\\r\\n     <ion-item *ngIf=\\\"image1\\\">\\r\\n      <ion-img [src]=\\\"image1\\\"></ion-img>\\r\\n      </ion-item>\\r\\n     <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"foto2()\\\" *ngIf=\\\"image1 && !image2\\\">Tomar segunda foto</ion-button>\\r\\n     <ion-item *ngIf=\\\"image2\\\">\\r\\n      <ion-img [src]=\\\"image2\\\"></ion-img>\\r\\n      </ion-item>\\r\\n     <ion-button color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"foto3()\\\" *ngIf=\\\"image2\\\">Tomar tercera foto</ion-button>\\r\\n     <ion-item *ngIf=\\\"image3\\\">\\r\\n      <ion-img [src]=\\\"image3\\\"></ion-img>\\r\\n      </ion-item>\\r\\n     \\r\\n     <ion-button (click)=\\\"subir()\\\">Subir Producto</ion-button>\\r\\n     \\r\\n   </ng-container>\\r\\n\\r\\n\\r\\n   <ng-container *ngIf=\\\"!alta\\\">\\r\\n\\r\\n    <ion-item style=\\\"margin-bottom:3rem;\\\">\\r\\n      <ion-label>Producto a modificar y/o eliminar</ion-label>\\r\\n      <ion-select  [(ngModel)]=\\\"productoElegido\\\" >\\r\\n        <ion-select-option [value]=\\\"item\\\" *ngFor=\\\"let item of listaProductos\\\">{{item.nombre}} ${{item.precio}}</ion-select-option>        \\r\\n      </ion-select>\\r\\n    </ion-item >\\r\\n    \\r\\n    <ng-container *ngIf=\\\"productoElegido\\\">\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Nombre</ion-label>\\r\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"productoElegido.nombre\\\"></ion-input>\\r\\n      </ion-item> \\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Descripción del producto</ion-label>\\r\\n        <ion-textarea [(ngModel)]=\\\"productoElegido.descripcion\\\"></ion-textarea>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Precio</ion-label>\\r\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"productoElegido.precio\\\"></ion-input>\\r\\n      </ion-item> \\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Cantidad de minutos de elaboración</ion-label>\\r\\n        <ion-input type=\\\"number\\\" [(ngModel)]=\\\"productoElegido.minutos\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-button  color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"escanear()\\\">Ingresar nuevo QR</ion-button><br><br>\\r\\n \\r\\n      <ion-item *ngIf=\\\"productoElegido.foto_1\\\">\\r\\n        <ion-img [src]=\\\"productoElegido.foto_1\\\"></ion-img>\\r\\n      </ion-item>\\r\\n\\r\\n     <ion-item *ngIf=\\\"productoElegido.foto_2\\\">\\r\\n      <ion-img [src]=\\\"productoElegido.foto_2\\\"></ion-img>\\r\\n    </ion-item>\\r\\n     \\r\\n     <ion-item *ngIf=\\\"productoElegido.foto_3\\\">\\r\\n      <ion-img [src]=\\\"productoElegido.foto_3\\\"></ion-img>\\r\\n    </ion-item>\\r\\n\\r\\n      <ion-button (click)=\\\"modificar()\\\">Actualizar Producto</ion-button>\\r\\n      <ion-button (click)=\\\"eliminar()\\\">Eliminar Producto</ion-button>\\r\\n    </ng-container>\\r\\n\\r\\n   </ng-container>\\r\\n   <ion-button class=\\\"apagar\\\" color=\\\"dark\\\" (click)=\\\"salir()\\\">\\r\\n    <ion-icon name=\\\"power\\\"></ion-icon>\\r\\n  </ion-button>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-card {\\n  text-align: center;\\n  --background: rgb(230, 230, 230);\\n  display: block;\\n  border-radius: 0;\\n  margin: 0;\\n  padding: 0; }\\n\\nion-card ion-icon {\\n  font-size: 80px;\\n  color: #333333; }\\n\\n.card-vertical {\\n  height: 33.33%;\\n  width: 100%;\\n  float: left; }\\n\\n.card-horizontal {\\n  height: 100%;\\n  width: 33.33%;\\n  float: left; }\\n\\nion-ripple-effect {\\n  color: #ef5c5c; }\\n\\n.icon-vertical {\\n  margin-top: 13.5%; }\\n\\n.icon-horizontal {\\n  margin-top: 4%; }\\n\\nh2 {\\n  font-size: 20px;\\n  font-weight: bold;\\n  /*line-height: 0px;*/\\n  padding-top: 0;\\n  margin-top: 0;\\n  color: #181717; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hcy9hbHRhLXByb2R1Y3RvL0U6XFxEZXNjYXJnYXNcXE1hc3RlclByZVxcTWFzdGVyUHJlL3NyY1xcYXBwXFxwYWdpbmFzXFxhbHRhLXByb2R1Y3RvXFxhbHRhLXByb2R1Y3RvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtFQUNJLGtCQUFrQjtFQUNsQixnQ0FBYTtFQUNiLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsU0FBUztFQUNULFVBQVUsRUFBQTs7QUFHZDtFQUNJLGVBQWU7RUFDZixjQUFzQixFQUFBOztBQUcxQjtFQUNJLGNBQWM7RUFDZCxXQUFXO0VBQ1gsV0FBVyxFQUFBOztBQUdmO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFDYixXQUFXLEVBQUE7O0FBR2Y7RUFDSSxjQUF1QixFQUFBOztBQUczQjtFQUNJLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLG9CQUFBO0VBQ0EsY0FBYztFQUNkLGFBQWE7RUFDYixjQUFzQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnaW5hcy9hbHRhLXByb2R1Y3RvL2FsdGEtcHJvZHVjdG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ09OVEVOVFxyXG5cclxuXHJcblxyXG5pb24tY2FyZCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAtLWJhY2tncm91bmQ6IHJnYigyMzAsIDIzMCwgMjMwKTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbmlvbi1jYXJkIGlvbi1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogODBweDtcclxuICAgIGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7XHJcbn1cclxuXHJcbi5jYXJkLXZlcnRpY2FsIHtcclxuICAgIGhlaWdodDogMzMuMzMlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG5cclxuLmNhcmQtaG9yaXpvbnRhbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMzMuMzMlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuXHJcbmlvbi1yaXBwbGUtZWZmZWN0IHtcclxuICAgIGNvbG9yOiByZ2IoMjM5LCA5MiwgOTIpO1xyXG59XHJcblxyXG4uaWNvbi12ZXJ0aWNhbCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMy41JTtcclxufVxyXG5cclxuLmljb24taG9yaXpvbnRhbCB7XHJcbiAgICBtYXJnaW4tdG9wOiA0JTtcclxufVxyXG5cclxuaDIge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAvKmxpbmUtaGVpZ2h0OiAwcHg7Ki9cclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICAgIGNvbG9yOiByZ2IoMjQsIDIzLCAyMyk7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { Vibration } from '@ionic-native/vibration/ngx';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { Producto } from 'src/app/interfaces/producto';\r\nimport { ProductosService } from 'src/app/servicios/productos.service';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { ToastService } from 'src/app/servicios/toast.service';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/servicios/auth.service';\r\nimport { AlertService } from 'src/app/servicios/alert.service';\r\nimport { SpinnerService } from 'src/app/servicios/spinner.service';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-alta-producto',\r\n  templateUrl: './alta-producto.page.html',\r\n  styleUrls: ['./alta-producto.page.scss'],\r\n})\r\nexport class AltaProductoPage implements OnInit {\r\n\r\n  nombre:string;\r\n  minutos:number;\r\n  descripcion:string;\r\n  qr:string;\r\n  precio:number;\r\n  cargarProd=false;\r\n  listaProductos:Producto[];\r\n  productoElegido:Producto=null;\r\n  \r\n\r\n  image1: string = null;\r\n  image2: string = null;\r\n  image3: string = null;\r\n\r\n  url1=null;\r\n  url2=null;\r\n  url3=null;\r\n\r\n  alta=true;\r\n  usuario;\r\n\r\n\r\n  constructor(private storage:AngularFireStorage,     \r\n    private camera: Camera, \r\n    private alertService:AlertService,\r\n    private barcodeScanner: BarcodeScanner,\r\n    \r\n    private vibra:Vibration,\r\n    private bda:ProductosService,\r\n    private spi:SpinnerService,\r\n    private toast:ToastService, private route:Router, private auth:AuthService) { \r\n      this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n\r\n      this.bda.devolverListadoProductos().subscribe(lista=>{\r\n        this.listaProductos=lista;      \r\n        this.listaProductos.sort((a,b)=>a.precio-b.precio); \r\n      \r\n      }\r\n        );\r\n      this.nombre=\"\";\r\n      this.minutos=0;\r\n      this.descripcion=\"\";\r\n      this.precio=0;\r\n    }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  \r\n\r\n  escanear(){  \r\n\r\n      \r\n    this.barcodeScanner.scan().then(async barcodeData => {\r\n      if(barcodeData.format==\"QR_CODE\")\r\n      {\r\n       \r\n        this.qr=barcodeData.text;\r\n        \r\n      }else{\r\n        this.alertService.mensaje(\"Error\",\"El código debe ser QR\");\r\n        this.vibra.vibrate(500);\r\n      }\r\n      \r\n     }).catch(err => {\r\n         this.alertService.mensaje(\"Error\",\"No se ha podido cargar el código.\");\r\n         this.vibra.vibrate(500);\r\n     });\r\n\r\n     \r\n  }\r\n\r\n  async foto1(){\r\n    await this.sacarFoto(1);\r\n    await this.guardarImagen1();\r\n  }\r\n\r\n  async foto2(){\r\n    await this.sacarFoto(2);\r\n    await this.guardarImagen2();\r\n  }\r\n\r\n  async foto3(){\r\n    await this.sacarFoto(3);\r\n    await this.guardarImagen3();\r\n  }\r\n\r\n  async sacarFoto(id:number){\r\n    this.spi.showSpinner();\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      targetWidth: 1000,\r\n      targetHeight: 1000\r\n    }\r\n\r\n    await this.camera.getPicture(options).then((imageData) => {\r\n      if(id==1)\r\n      this.image1 = `data:image/jpeg;base64,${imageData}`;\r\n      else if(id==2)   \r\n      this.image2 = `data:image/jpeg;base64,${imageData}`;\r\n      else\r\n      this.image3 = `data:image/jpeg;base64,${imageData}`;\r\n     }, (err) => {\r\n      this.alertService.mensaje(\"Error\",err);\r\n     });\r\n\r\n     this.spi.hideSpinner();\r\n  }\r\n\r\n  \r\n\r\n  async subir(){\r\n    this.spi.showSpinner();\r\n    let m:string;\r\n    if(this.usuario.perfil=='bar')\r\n    m=\"bebida\";\r\n    else\r\n    m=\"comida\";\r\n    if(this.url1!=null && this.url2!=null && this.url3!=null){\r\n      let p=new Producto(this.nombre, this.descripcion, this.minutos, this.precio, m, this.url1, this.url2, this.url3);   \r\n      this.cargarProducto(p, 1);\r\n    }else{\r\n      this.alertService.mensaje(\"Error\",\"Deben estar subidas las tres imagenes para poder cargar el producto\")\r\n    }\r\n       \r\n    this.spi.hideSpinner();\r\n  }\r\n\r\n  cargarProducto(prod:Producto, modalidad:number){\r\n    if(prod.precio>0 && prod.nombre.length>3 && prod.tiempo>10 && prod.descripcion.length>20 && modalidad==1){  \r\n      try{\r\n        this.bda.createProducto(prod);\r\n        this.toast.confirmationToast(\"Se guardó el producto.\");\r\n\r\n      }  catch(err){\r\n        this.alertService.mensaje(\"Error\",err);\r\n      }  \r\n      \r\n    }else if(prod.precio>0 && prod.nombre.length>3 && prod.tiempo>10 && prod.descripcion.length>20 && modalidad==2){\r\n      try{\r\n        this.bda.actualizarProducto(prod);\r\n        this.toast.confirmationToast(\"Se actualizó el producto.\");\r\n\r\n      }  catch(err){\r\n        this.alertService.mensaje(\"Error\",err);\r\n      }  \r\n    }\r\n    else if(prod.precio==0){\r\n      this.alertService.mensaje(\"Error\",\"El precio debe ser mayor a 0\")\r\n    }else if(prod.nombre.length<4){\r\n      this.alertService.mensaje(\"Error\",\"El nombre debe tener más de 3 caracteres\");\r\n    }else if(prod.tiempo<11){\r\n      this.alertService.mensaje(\"Error\",\"Los productos tienen un mínimo de producción de 10 minutos\");      \r\n    }else{\r\n      this.alertService.mensaje(\"Error\",\"La descripción debe tener más de 20 caracteres\");      \r\n    }\r\n  }\r\n\r\n  async guardarImagen1(){\r\n    \r\n    if(this.image1){\r\n        try{\r\n\r\n        \r\n        const com=this.nombre+this.precio+this.minutos+1;\r\n        let img;\r\n        await fetch(this.image1)\r\n        .then(res => res.blob().then(r=>{\r\n          img=r\r\n        }))\r\n        \r\n        const file= img;\r\n        const path= com;\r\n        const ref=this.storage.ref(path);    \r\n        const task=this.storage.upload(path, file);     \r\n        await task.snapshotChanges().pipe(finalize(()=>ref.getDownloadURL().subscribe(url=>{\r\n          this.url1=url;       \r\n        \r\n        } ))).subscribe(); \r\n        }catch(e){\r\n          \r\n        }\r\n         \r\n    }else{\r\n      this.alertService.mensaje(\"Error\", \"No está cargada la imagen 1\");\r\n    }\r\n   \r\n  }\r\n\r\n  async guardarImagen2(){\r\n    \r\n    if(this.image2){\r\n        try{\r\n\r\n        \r\n        const com=this.nombre+this.precio+this.minutos+2;\r\n        let img;\r\n        await fetch(this.image2)\r\n        .then(res => res.blob().then(r=>{\r\n          img=r\r\n        }))\r\n        \r\n        const file= img;\r\n        const path= com;\r\n        const ref=this.storage.ref(path);    \r\n        const task=this.storage.upload(path, file);     \r\n        await task.snapshotChanges().pipe(finalize(()=>ref.getDownloadURL().subscribe(url=>{\r\n          this.url2=url;       \r\n        \r\n        } ))).subscribe(); \r\n        }catch(e){\r\n          \r\n        }\r\n         \r\n    }else{\r\n      this.alertService.mensaje(\"Error\", \"No está cargada la imagen 2\");\r\n    }\r\n   \r\n  }\r\n      \r\n        \r\n  async guardarImagen3(){\r\n    \r\n    if(this.image3){\r\n        try{\r\n\r\n        \r\n        const com=this.nombre+this.precio+this.minutos+3;\r\n        let img;\r\n        await fetch(this.image3)\r\n        .then(res => res.blob().then(r=>{\r\n          img=r\r\n        }))\r\n        \r\n        const file= img;\r\n        const path= com;\r\n        const ref=this.storage.ref(path);    \r\n        const task=this.storage.upload(path, file);     \r\n        await task.snapshotChanges().pipe(finalize(()=>ref.getDownloadURL().subscribe(url=>{\r\n          this.url3=url;       \r\n        \r\n        } ))).subscribe(); \r\n        }catch(e){\r\n          \r\n        }\r\n         \r\n    }else{\r\n      this.alertService.mensaje(\"Error\", \"No está cargada la imagen 3\");\r\n    }\r\n   \r\n  }  \r\n      \r\n  \r\n\r\n\r\n  cambiar(){\r\n    if(this.alta)\r\n    this.alta=false;\r\n    else\r\n    this.alta=true;\r\n\r\n    this.image1=null;\r\n    this.image2=null;\r\n    this.image3=null;\r\n  }\r\n\r\n  async eliminar(){\r\n    this.spi.showSpinner();\r\n    try{\r\n      await this.bda.BorrarProducto(this.productoElegido);\r\n      this.toast.confirmationToast(\"se eliminó el producto.\");\r\n    }catch(e){\r\n      this.alertService.mensaje(\"Error\",e);\r\n    }finally{\r\n      this.productoElegido=null;\r\n      this.spi.hideSpinner();\r\n    }\r\n    \r\n  }\r\n\r\n  async modificar(){\r\n    this.spi.showSpinner();    \r\n    let p=this.productoElegido;\r\n    p.nombre=this.productoElegido.nombre;\r\n    p.precio=this.productoElegido.precio;\r\n    p.descripcion=this.productoElegido.descripcion;\r\n    p.tiempo=this.productoElegido.tiempo;\r\n    \r\n    try{\r\n      await this.cargarProducto(p,2);  \r\n\r\n    }catch(err){\r\n      this.alertService.mensaje(\"Error\",err);\r\n    }finally\r\n    {\r\n      this.productoElegido=null;\r\n      this.spi.hideSpinner();\r\n    }\r\n    \r\n  }\r\n\r\n  salir(){\r\n    this.auth.LogOut();\r\n    this.route.navigate(['log-in']);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, DocumentReference } from '@angular/fire/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Producto } from '../interfaces/producto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProductosService {\r\n\r\n  productos:Observable<Producto[]>;\r\n\r\n  constructor(private db:AngularFirestore) { \r\n    this.productos=this.db.collection(\"productos\").snapshotChanges().pipe(\r\n      map(actions=>{\r\n        return actions.map(\r\n          a=>{\r\n            const data= a.payload.doc.data();\r\n            const id=a.payload.doc.id;\r\n            return {id, ...(data as any)}\r\n          }\r\n        );\r\n      })   \r\n    );\r\n  }\r\n\r\n  createProducto(producto:Producto): Promise<DocumentReference> {\r\n    return this.db.collection('productos').add({...producto});\r\n  }  \r\n\r\n  devolverListadoProductos(){\r\n    return this.productos;\r\n  }\r\n\r\n  actualizarProducto(prod:Producto) {     \r\n    \r\n    this.db.doc('productos' + '/'+prod.id).update({...prod});    \r\n    \r\n  }\r\n\r\n  BorrarProducto(prod: Producto) {\r\n    this.db.doc('productos/' + prod.id).delete().then()\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoadingController, ToastController } from '@ionic/angular';\r\nimport { LoadingOptions } from '@ionic/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SpinnerService {\r\n  // tslint:disable: variable-name\r\n  private _currentLoading: HTMLIonLoadingElement; // This is the spinner\r\n  private _isSpinnerShowing = false;\r\n  private _isGoingToClose = false;\r\n  private _timer = -1; // This is the timer, it will go from 2000 to -1\r\n  private _timerID = null;\r\n\r\n  constructor(\r\n    private _loadingController: LoadingController,\r\n    private _toastCtrl: ToastController\r\n  ) {\r\n    // console.log('Inicializo el spinner');\r\n    this.createSpinner();\r\n  }\r\n\r\n  private async createSpinner() {\r\n    this._currentLoading = await this._loadingController.create({\r\n        spinner: null,\r\n        keyboardClose: true,\r\n        message: '<div class=\"spinner-css\"><img src=\"assets/loading.png\"></div> Cargando...',\r\n        showBackdrop: false,\r\n        duration:30000,\r\n        cssClass: 'cajaSpinner'\r\n      });\r\n  }\r\n\r\n  public async showSpinner() {\r\n    // console.log('Muestro el spinner', this._currentLoading);\r\n    if (this._isSpinnerShowing === false) {\r\n      this._currentLoading.present();\r\n      this._isSpinnerShowing = this.startTimer();\r\n    }\r\n  }\r\n\r\n  private startTimer() {\r\n    // console.log('Inicializo el conteo');\r\n    this._timer = 2000;\r\n\r\n    this._timerID = setInterval(() => {\r\n      this._timer = this._timer - 1;\r\n\r\n      if (this._timer < 0) {\r\n        // console.log('El conteo se acabÃ³.');\r\n        this._isGoingToClose = true;\r\n        clearInterval(this._timerID);\r\n      }\r\n    }, 1);\r\n\r\n    return true;\r\n  }\r\n\r\n  public async hideSpinner() {\r\n    // console.log('Intento ocultar el spinner con el timer en', this._timer);\r\n\r\n    if (this._isSpinnerShowing) {\r\n      if (this._timer < 0) {\r\n        // console.log('El tiempo acabÃ³ y oculto el spinner');\r\n        this._isSpinnerShowing = this.stopAndReplaceSpinner();\r\n        this._isGoingToClose = false;\r\n      } else {\r\n        // console.log('El tiempo NO acaba y hago un timeout para acabarlo en', this._timer);\r\n        clearInterval(this._timerID);\r\n        setTimeout(() => {\r\n          this._isGoingToClose = true;\r\n          this.hideSpinner();\r\n        }, this._timer);\r\n      }\r\n\r\n      this._timer = -1;\r\n    }\r\n  }\r\n\r\n  private stopAndReplaceSpinner() {\r\n    this._currentLoading.dismiss();\r\n    this.createSpinner();\r\n    return false;\r\n  }\r\n\r\n  public mostrarToast(message, timer, color, position) {\r\n    this._toastCtrl.create({\r\n      color,\r\n      duration: timer * 1000,\r\n      message,\r\n      position,\r\n    })\r\n      .then((toast: HTMLIonToastElement) => {\r\n        toast.present();\r\n      });\r\n  }\r\n}\r\n"],"sourceRoot":""}